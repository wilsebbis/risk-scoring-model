data:
  source: csv
  csv_path: data/transactions.csv
  target_col: is_fraud
  id_col: transaction_id
  # Local dev uses CSV; Snowflake path is for production realism.
  snowflake_query: |
    -- Example: replace with your production query
    SELECT t.*, f.is_fraud
    FROM analytics.transactions t
    LEFT JOIN labels.fraud_flags f USING (transaction_id)
    WHERE t.created_at >= DATEADD(month, -6, CURRENT_DATE())

model:
  xgboost:
    objective: binary:logistic
    eval_metric: aucpr
    n_estimators: 500
    max_depth: 6
    learning_rate: 0.05
    subsample: 0.9
    colsample_bytree: 0.9
    min_child_weight: 2
    reg_lambda: 2.0
    random_state: 42
    n_jobs: -1

training:
  test_size: 0.20
  validation_size: 0.25
  random_state: 42
  split_mode: stratified   # or "time" for temporal evaluation

threshold:
  max_false_positive_rate: 0.02
  candidate_steps: 500
  review_threshold: null    # set e.g. 0.5 for 3-way APPROVE/REVIEW/DECLINE

costs:
  chargeback_cost: 150.0
  false_positive_cost: 25.0

artifacts:
  output_dir: artifacts
  model_file: risk_model.joblib
  metrics_file: metrics.json
  threshold_file: threshold.json
  threshold_curve_file: threshold_curve.csv
